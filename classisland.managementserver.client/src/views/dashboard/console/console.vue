<template>
  <div class="console d-flex flex-col gap-y-2">

    <!--导航卡片-->
    <n-card title="ClassIsland 集控控制台">
      <span>欢迎使用 ClassIsland 集控控制台！</span>
    </n-card>
    
    <n-card>
      <div class="d-flex flex-col items-center gap-2 my-4">

        <img src="../../../assets/stickers/缇宝_炸飞.png" height="81" width="81"
             alt="缇宝_炸飞" title="缇宝_炸飞"/>
        <h2 class="text-h5 font-weight-bold">施工中</h2>
        <p>此项目正在施工中，可能存在未完工的功能和缺陷。当前版本不代表最终品质。</p>
      </div>
    </n-card>
  </div>
</template>
<script lang="ts" setup>
  import { ref, onMounted } from 'vue';
  import { getConsoleInfo } from '@/api/dashboard/console';
  import VisiTab from './components/VisiTab.vue';
  import { CountTo } from '@/components/CountTo/index';
  import {
    CaretUpOutlined,
    CaretDownOutlined,
    UsergroupAddOutlined,
    BarChartOutlined,
    ShoppingCartOutlined,
    AccountBookOutlined,
    CreditCardOutlined,
    MailOutlined,
    TagsOutlined,
    SettingOutlined,
  } from '@vicons/antd';

  interface InVisits {
    dayVisits: number;
    rise: number;
    decline: number;
    amount: number;
  }

  interface InSaleroom {
    weekSaleroom: number;
    amount: number;
    degree: number;
  }

  interface InOrderLarge {
    weekLarge: number;
    rise: number;
    decline: number;
    amount: number;
  }

  interface InVolume {
    weekLarge: number;
    rise: number;
    decline: number;
    amount: number;
  }

  const loading = ref(true);
  const visits = ref({} as InVisits);
  const saleroom = ref({} as InSaleroom);
  const orderLarge = ref({} as InOrderLarge);
  const volume = ref({} as InVolume);

  // 图标列表
  const iconList = [
    {
      icon: UsergroupAddOutlined,
      size: '32',
      title: '用户',
      color: '#69c0ff',
      eventObject: {
        click: () => {},
      },
    },
    {
      icon: BarChartOutlined,
      size: '32',
      title: '分析',
      color: '#69c0ff',
      eventObject: {
        click: () => {},
      },
    },
    {
      icon: ShoppingCartOutlined,
      size: '32',
      title: '商品',
      color: '#ff9c6e',
      eventObject: {
        click: () => {},
      },
    },
    {
      icon: AccountBookOutlined,
      size: '32',
      title: '订单',
      color: '#b37feb',
      eventObject: {
        click: () => {},
      },
    },
    {
      icon: CreditCardOutlined,
      size: '32',
      title: '票据',
      color: '#ffd666',
      eventObject: {
        click: () => {},
      },
    },
    {
      icon: MailOutlined,
      size: '32',
      title: '消息',
      color: '#5cdbd3',
      eventObject: {
        click: () => {},
      },
    },
    {
      icon: TagsOutlined,
      size: '32',
      title: '标签',
      color: '#ff85c0',
      eventObject: {
        click: () => {},
      },
    },
    {
      icon: SettingOutlined,
      size: '32',
      title: '配置',
      color: '#ffc069',
      eventObject: {
        click: () => {},
      },
    },
  ];

  onMounted(async () => {
    const data = await getConsoleInfo();
    visits.value = data.visits;
    saleroom.value = data.saleroom;
    orderLarge.value = data.orderLarge;
    volume.value = data.volume;
    loading.value = false;
  });
  
</script>

<style lang="less" scoped></style>
